Unit Tests (No Docker)	Set up job	ï»¿2026-02-08T02:44:59.1861618Z Current runner version: '2.331.0'
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1886005Z ##[group]Runner Image Provisioner
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1886823Z Hosted Compute Agent
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1887369Z Version: 20260123.484
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1888044Z Commit: 6bd6555ca37d84114959e1c76d2c01448ff61c5d
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1888680Z Build Date: 2026-01-23T19:41:17Z
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1889478Z Worker ID: {98a0b5c7-e6d5-4779-8086-ef748ed63c24}
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1890235Z Azure Region: westus3
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1890799Z ##[endgroup]
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1892136Z ##[group]Operating System
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1892810Z Ubuntu
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1893231Z 24.04.3
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1893681Z LTS
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1894218Z ##[endgroup]
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1894667Z ##[group]Runner Image
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1895187Z Image: ubuntu-24.04
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1896009Z Version: 20260201.15.1
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1897043Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20260201.15/images/ubuntu/Ubuntu2404-Readme.md
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1898710Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20260201.15
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1899873Z ##[endgroup]
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1900871Z ##[group]GITHUB_TOKEN Permissions
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1902715Z Contents: read
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1903268Z Metadata: read
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1903705Z Packages: read
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1904331Z ##[endgroup]
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1906190Z Secret source: Actions
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.1906853Z Prepare workflow directory
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.2228011Z Prepare all required actions
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.2285950Z Getting action download info
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.6489740Z Download action repository 'actions/checkout@v4' (SHA:34e114876b0b11c390a56381ad16ebd13914f8d5)
Unit Tests (No Docker)	Set up job	2026-02-08T02:44:59.7554634Z Download action repository 'oven-sh/setup-bun@v2' (SHA:3d267786b128fe76c2f16a390aa2448b815359f3)
Unit Tests (No Docker)	Set up job	2026-02-08T02:45:00.4994550Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
Unit Tests (No Docker)	Set up job	2026-02-08T02:45:00.7312699Z Complete job name: Unit Tests (No Docker)
Unit Tests (No Docker)	Run actions/checkout@v4	ï»¿2026-02-08T02:45:00.8121886Z ##[group]Run actions/checkout@v4
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8123230Z with:
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8124005Z   repository: adelfree2023-dev/KIMI
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8125243Z   token: ***
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8125974Z   ssh-strict: true
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8126774Z   ssh-user: git
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8127565Z   persist-credentials: true
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8128439Z   clean: true
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8129369Z   sparse-checkout-cone-mode: true
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8130320Z   fetch-depth: 1
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8131067Z   fetch-tags: false
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8131841Z   show-progress: true
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8132619Z   lfs: false
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8133343Z   submodules: false
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8134118Z   set-safe-directory: true
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.8135232Z ##[endgroup]
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9223048Z Syncing repository: adelfree2023-dev/KIMI
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9225903Z ##[group]Getting Git version info
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9227169Z Working directory is '/home/runner/work/KIMI/KIMI'
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9229062Z [command]/usr/bin/git version
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9326839Z git version 2.52.0
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9354014Z ##[endgroup]
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9371194Z Temporarily overriding HOME='/home/runner/work/_temp/5377167c-d4f5-4837-a471-7390a98b9b60' before making global git config changes
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9375853Z Adding repository directory to the temporary git global config as a safe directory
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9385533Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/KIMI/KIMI
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9428042Z Deleting the contents of '/home/runner/work/KIMI/KIMI'
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9432204Z ##[group]Initializing the repository
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9437300Z [command]/usr/bin/git init /home/runner/work/KIMI/KIMI
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9567522Z hint: Using 'master' as the name for the initial branch. This default branch name
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9570055Z hint: will change to "main" in Git 3.0. To configure the initial branch name
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9573769Z hint: to use in all of your new repositories, which will suppress this warning,
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9575575Z hint: call:
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9576274Z hint:
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9577325Z hint: 	git config --global init.defaultBranch <name>
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9578613Z hint:
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9580286Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9582213Z hint: 'development'. The just-created branch can be renamed via this command:
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9583673Z hint:
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9584835Z hint: 	git branch -m <name>
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9586195Z hint:
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9587721Z hint: Disable this message with "git config set advice.defaultBranchName false"
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9589816Z Initialized empty Git repository in /home/runner/work/KIMI/KIMI/.git/
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9592778Z [command]/usr/bin/git remote add origin https://github.com/adelfree2023-dev/KIMI
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9621169Z ##[endgroup]
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9622570Z ##[group]Disabling automatic garbage collection
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9624467Z [command]/usr/bin/git config --local gc.auto 0
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9652927Z ##[endgroup]
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9654426Z ##[group]Setting up auth
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9658030Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:00.9687486Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.0087149Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.0117530Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.0336902Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.0377105Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.0598791Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.0631410Z ##[endgroup]
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.0638495Z ##[group]Fetching the repository
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.0641468Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +7f77e5f1fcc2b254a433e309a285e9a70fd91239:refs/remotes/origin/develop
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6090290Z From https://github.com/adelfree2023-dev/KIMI
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6092131Z  * [new ref]         7f77e5f1fcc2b254a433e309a285e9a70fd91239 -> origin/develop
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6125281Z ##[endgroup]
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6127149Z ##[group]Determining the checkout info
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6128980Z ##[endgroup]
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6132033Z [command]/usr/bin/git sparse-checkout disable
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6178139Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6205640Z ##[group]Checking out the ref
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6209557Z [command]/usr/bin/git checkout --progress --force -B develop refs/remotes/origin/develop
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6339804Z Switched to a new branch 'develop'
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6341782Z branch 'develop' set up to track 'origin/develop'.
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6350175Z ##[endgroup]
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6385314Z [command]/usr/bin/git log -1 --format=%H
Unit Tests (No Docker)	Run actions/checkout@v4	2026-02-08T02:45:01.6407495Z 7f77e5f1fcc2b254a433e309a285e9a70fd91239
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	ï»¿2026-02-08T02:45:01.6697591Z ##[group]Run oven-sh/setup-bun@v2
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:01.6698579Z with:
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:01.6699379Z   bun-version: 1.0.0
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:01.6700137Z   no-cache: false
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:01.6701087Z   token: ***
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:01.6701764Z ##[endgroup]
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:02.4478546Z Cache hit for: gDQ/gNqRR03UCbjCF/2SEppbPvM=
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:03.6712794Z Received 32829149 of 32829149 (100.0%), 31.8 MBs/sec
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:03.6714383Z Cache Size: ~31 MB (32829149 B)
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:03.6832658Z [command]/usr/bin/tar -xf /home/runner/work/_temp/42ac2536-72c4-442b-b6e6-2e8593461e13/cache.tzst -P -C /home/runner/work/KIMI/KIMI --use-compress-program unzstd
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:03.8461663Z Cache restored successfully
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:03.8531912Z [command]/home/runner/.bun/bin/bun --revision
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:03.8581280Z 1.0.0+822a00c4d508b54f650933a73ca5f4a3af9a7983
Unit Tests (No Docker)	Run oven-sh/setup-bun@v2	2026-02-08T02:45:03.8587215Z Using a cached version of Bun: 1.0.0+822a00c4d508b54f650933a73ca5f4a3af9a7983
Unit Tests (No Docker)	Install Dependencies	ï»¿2026-02-08T02:45:03.8726448Z ##[group]Run bun install
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:03.8726810Z [36;1mbun install[0m
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:03.8764957Z shell: /usr/bin/bash -e {0}
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:03.8765280Z ##[endgroup]
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:03.8872417Z bun install v1.0.0 (822a00c4)
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:03.8891760Z  Resolving dependencies
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:06.4545495Z  Resolved, downloaded and extracted [2814]
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:06.4568605Z  Saved lockfile
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1966685Z  + @apex/audit@workspace:packages/audit
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1967402Z  + @apex/auth@workspace:packages/auth
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1967954Z  + @apex/config@workspace:packages/config
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1968482Z  + @apex/db@workspace:packages/db
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1968977Z  + @apex/events@workspace:packages/events
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1969766Z  + @apex/middleware@workspace:packages/middleware
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1970382Z  + @apex/provisioning@workspace:packages/provisioning
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1970917Z  + @apex/ui@workspace:packages/ui
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1971525Z  + @apex/web@workspace:apps/web
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1972048Z  + api@workspace:apps/api
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1972498Z  + @biomejs/biome@1.5.3
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.1972889Z  + turbo@2.8.3
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.2032227Z Run: bun install
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.2034346Z 
Unit Tests (No Docker)	Install Dependencies	2026-02-08T02:45:07.2034650Z  709 packages installed [3.31s]
Unit Tests (No Docker)	Run Unit Tests	ï»¿2026-02-08T02:45:07.2197938Z ##[group]Run echo "ðŸ§ª Running unit tests..."
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:07.2198325Z [36;1mecho "ðŸ§ª Running unit tests..."[0m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:07.2198722Z [36;1m# turbo doesn't support --coverage flag, run vitest directly[0m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:07.2199472Z [36;1mbunx vitest run --coverage --reporter=verbose[0m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:07.2292886Z shell: /usr/bin/bash -e {0}
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:07.2293176Z env:
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:07.2293346Z   NODE_ENV: test
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:07.2293546Z   SKIP_DOCKER_TESTS: true
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:07.2293784Z ##[endgroup]
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:07.2350414Z ðŸ§ª Running unit tests...
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:07.9418473Z [33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.0948261Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.0949487Z [7m[1m[36m RUN [39m[22m[27m [36mv1.6.1[39m [90m/home/runner/work/KIMI/KIMI[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.0950299Z [2m      Coverage enabled with [22m[33mv8[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.0950770Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9238922Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mLoginSchema[2m > [22mshould validate valid login credentials
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9242166Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mLoginSchema[2m > [22mshould reject invalid email
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9248703Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mLoginSchema[2m > [22mshould reject short password
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9250843Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mLoginSchema[2m > [22mshould reject missing email
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9252615Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mLoginSchema[2m > [22mshould reject missing password
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9254399Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mLoginSchema[2m > [22mshould infer correct type
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9256309Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mRegisterSchema[2m > [22mshould validate valid registration data
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9258538Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mRegisterSchema[2m > [22mshould reject password without uppercase
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9260666Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mRegisterSchema[2m > [22mshould reject password without lowercase
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9262621Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mRegisterSchema[2m > [22mshould reject password without number
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9264474Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mRegisterSchema[2m > [22mshould reject short password
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9266301Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mRegisterSchema[2m > [22mshould reject invalid tenantId
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9268095Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mRegisterSchema[2m > [22mshould infer correct type
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9270179Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mJwtPayloadSchema[2m > [22mshould validate valid JWT payload
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9272086Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mJwtPayloadSchema[2m > [22mshould reject invalid sub (user id)
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9273928Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mJwtPayloadSchema[2m > [22mshould reject invalid role
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9275758Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mJwtPayloadSchema[2m > [22mshould accept all valid roles
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:08.9277830Z  [32mâœ“[39m packages/auth/src/auth.schema.test.ts[2m > [22mAuth Schema Validation[2m > [22mJwtPayloadSchema[2m > [22mshould infer correct type
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.2966224Z [90mstderr[2m | enforceS1Compliance (/home/runner/work/KIMI/KIMI/packages/config/src/index.ts:114:13)[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.2980236Z âŒ CRITICAL: S1 Protocol Violation
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.2980607Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.2981887Z [90mstderr[2m | enforceS1Compliance (/home/runner/work/KIMI/KIMI/packages/config/src/index.ts:115:13)[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.2983702Z S1 Violation: Environment validation failed - JWT_SECRET: Required; DATABASE_URL: Required; MINIO_ENDPOINT: Required; MINIO_ACCESS_KEY: Required; MINIO_SECRET_KEY: Required
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.2985001Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.2985833Z [90mstderr[2m | enforceS1Compliance (/home/runner/work/KIMI/KIMI/packages/config/src/index.ts:116:13)[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.2986894Z Application startup aborted. Check your .env file.
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.2987363Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.2993344Z  [32mâœ“[39m packages/middleware/src/audit.schema.test.ts[2m > [22mAudit Schema Validation[2m > [22mAuditLogSchema[2m > [22mshould validate valid audit log entry
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.3013446Z  [32mâœ“[39m packages/middleware/src/audit.schema.test.ts[2m > [22mAudit Schema Validation[2m > [22mAuditLogSchema[2m > [22mshould reject invalid action
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.3015602Z  [32mâœ“[39m packages/middleware/src/audit.schema.test.ts[2m > [22mAudit Schema Validation[2m > [22mAuditLogSchema[2m > [22mshould accept all valid actions
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.3017733Z  [32mâœ“[39m packages/middleware/src/audit.schema.test.ts[2m > [22mAudit Schema Validation[2m > [22mAuditLogSchema[2m > [22mshould reject invalid email
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.3020088Z  [32mâœ“[39m packages/middleware/src/audit.schema.test.ts[2m > [22mAudit Schema Validation[2m > [22mAuditLogSchema[2m > [22mshould reject invalid IP address
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.3034051Z  [32mâœ“[39m packages/middleware/src/audit.schema.test.ts[2m > [22mAudit Schema Validation[2m > [22mAuditLogSchema[2m > [22mshould reject invalid timestamp
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.3036732Z  [32mâœ“[39m packages/middleware/src/audit.schema.test.ts[2m > [22mAudit Schema Validation[2m > [22mCreateAuditLogSchema[2m > [22mshould validate valid create audit log entry
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.3039437Z  [32mâœ“[39m packages/middleware/src/audit.schema.test.ts[2m > [22mAudit Schema Validation[2m > [22mCreateAuditLogSchema[2m > [22mshould reject missing required fields
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.3041799Z  [32mâœ“[39m packages/middleware/src/audit.schema.test.ts[2m > [22mAudit Schema Validation[2m > [22mCreateAuditLogSchema[2m > [22mshould accept without optional metadata
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.3044082Z  [32mâœ“[39m packages/middleware/src/audit.schema.test.ts[2m > [22mAudit Schema Validation[2m > [22mCreateAuditLogSchema[2m > [22mshould infer correct type
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6172410Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mPLAN_LIMITS[2m > [22mshould have defined limits for all plans
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6174904Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mPLAN_LIMITS[2m > [22mshould have correct free plan limits
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6177266Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mcheckProvisioningQuota[2m > [22mshould allow provisioning within limits
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6179968Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mcheckProvisioningQuota[2m > [22mshould deny provisioning when limit reached
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6183720Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mgetPlanLimits[2m > [22mshould return limits for valid plan
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6185714Z  [31mÃ—[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mgetPlanLimits[2m > [22mshould throw for invalid plan
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6187274Z [31m   â†’ expected [Function] to throw an error[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6188662Z  [31mÃ—[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22misFeatureAllowed[2m > [22mshould allow custom domains for pro plans
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6190322Z [31m   â†’ expected false to be true // Object.is equality[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6191863Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22misFeatureAllowed[2m > [22mshould allow SSO for enterprise only
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6194194Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mvalidateSubdomainAvailability[2m > [22mshould validate available subdomain
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6196560Z  [31mÃ—[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mvalidateSubdomainAvailability[2m > [22mshould reject reserved subdomains
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6198070Z [31m   â†’ expected 'Reserved word' to contain 'reserved'[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6199851Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mvalidateSubdomainAvailability[2m > [22mshould reject invalid formats
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6201849Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mcheckQuota[2m > [22mshould allow when under limit
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6203629Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mcheckQuota[2m > [22mshould deny when at limit
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6205472Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mcheckQuota[2m > [22mshould deny when over limit
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6207460Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mcheckQuota[2m > [22mshould check storage quota correctly
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6209588Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mcheckQuota[2m > [22mshould check users quota correctly
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6211754Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mcheckQuota[2m > [22mshould respect pro plan limits
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6213670Z  [32mâœ“[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mcheckQuota[2m > [22mshould deny when exceeding pro plan limits
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6925803Z  [32mâœ“[39m packages/middleware/src/tenant-resolution.test.ts[2m > [22mextractSubdomain[2m > [22mshould extract subdomain from apex.com domain
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6928321Z  [32mâœ“[39m packages/middleware/src/tenant-resolution.test.ts[2m > [22mextractSubdomain[2m > [22mshould extract subdomain from localhost
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6929488Z  [32mâœ“[39m packages/middleware/src/tenant-resolution.test.ts[2m > [22mextractSubdomain[2m > [22mshould return null for apex domain
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6930488Z  [32mâœ“[39m packages/middleware/src/tenant-resolution.test.ts[2m > [22mextractSubdomain[2m > [22mshould return null for www subdomain
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6931446Z  [32mâœ“[39m packages/middleware/src/tenant-resolution.test.ts[2m > [22mextractSubdomain[2m > [22mshould return null for reserved subdomains
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6932415Z  [32mâœ“[39m packages/middleware/src/tenant-resolution.test.ts[2m > [22mextractSubdomain[2m > [22mshould handle localhost without subdomain
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6933365Z  [32mâœ“[39m packages/middleware/src/tenant-resolution.test.ts[2m > [22mextractSubdomain[2m > [22mshould handle multi-level subdomains
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6934274Z  [32mâœ“[39m packages/middleware/src/tenant-resolution.test.ts[2m > [22mresolveTenant[2m > [22mshould call next() when no subdomain
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6935172Z  [32mâœ“[39m packages/middleware/src/tenant-resolution.test.ts[2m > [22mresolveTenant[2m > [22mshould call next() when www subdomain
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6936340Z  [32mâœ“[39m packages/middleware/src/tenant-resolution.test.ts[2m > [22mresolveTenant[2m > [22mshould set tenant context for valid subdomain
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:09.6937260Z  [32mâœ“[39m packages/middleware/src/tenant-resolution.test.ts[2m > [22mresolveTenant[2m > [22mshould handle localhost subdomain
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.1966767Z  [32mâœ“[39m packages/auth/src/auth.service.test.ts[2m > [22mAuthService[2m > [22mgenerateToken[2m > [22mshould generate token for valid user
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.1973139Z  [32mâœ“[39m packages/auth/src/auth.service.test.ts[2m > [22mAuthService[2m > [22mgenerateToken[2m > [22mshould generate token without tenantId
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.1979039Z  [32mâœ“[39m packages/auth/src/auth.service.test.ts[2m > [22mAuthService[2m > [22mvalidateUser[2m > [22mshould validate user with valid payload
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.1982489Z  [32mâœ“[39m packages/auth/src/auth.service.test.ts[2m > [22mAuthService[2m > [22mvalidateUser[2m > [22mshould throw for payload without sub
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.1985736Z  [32mâœ“[39m packages/auth/src/auth.service.test.ts[2m > [22mAuthService[2m > [22mvalidateUser[2m > [22mshould handle payload without tenantId
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.1988019Z  [32mâœ“[39m packages/auth/src/auth.service.test.ts[2m > [22mAuthService[2m > [22mverifyToken[2m > [22mshould verify valid token
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.1991052Z  [32mâœ“[39m packages/auth/src/auth.service.test.ts[2m > [22mAuthService[2m > [22mverifyToken[2m > [22mshould throw for invalid token
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.1994279Z  [32mâœ“[39m packages/auth/src/auth.service.test.ts[2m > [22mAuthService[2m > [22mverifyToken[2m > [22mshould throw for expired token
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2025351Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22msecurityHeaders[2m > [22mshould have X-Content-Type-Options
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2028420Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22msecurityHeaders[2m > [22mshould have X-Frame-Options
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2030641Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22msecurityHeaders[2m > [22mshould have X-XSS-Protection
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2060406Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22msecurityHeaders[2m > [22mshould have Referrer-Policy
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2062343Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22msecurityHeaders[2m > [22mshould have Permissions-Policy
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2064326Z  [31mÃ—[39m packages/middleware/src/security.test.ts[2m > [22msecurityHeaders[2m > [22mshould have Strict-Transport-Security
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2066391Z [31m   â†’ expected 'max-age=31536000; includeSubDomains; â€¦' to be 'max-age=31536000; includeSubDomains' // Object.is equality[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2068334Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22mSecurityHeadersMiddleware[2m > [22mshould be defined
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2070595Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22mdefaultCorsConfig[2m > [22mshould have credentials enabled
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2072449Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22mdefaultCorsConfig[2m > [22mshould have correct methods
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2074389Z  [31mÃ—[39m packages/middleware/src/security.test.ts[2m > [22mdefaultCorsConfig[2m > [22mshould have allowed headers
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2075918Z [31m   â†’ expected [ 'Content-Type', â€¦(2) ] to include 'X-Tenant-ID'[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2077511Z  [31mÃ—[39m packages/middleware/src/security.test.ts[2m > [22mgetTenantCorsConfig[2m > [22mshould return config with tenant origin
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2079532Z [31m   â†’ expected [ 'https://coffee.apex.com', â€¦(1) ] to be 'coffee.apex.com' // Object.is equality[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2081383Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22mgetTenantCorsConfig[2m > [22mshould preserve other settings
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2083880Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22mCsrfProtection[2m > [22mshould be defined
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2086151Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22mCsrfGuard[2m > [22mshould be defined
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2088153Z  [32mâœ“[39m packages/middleware/src/security.test.ts[2m > [22mhelmetConfig[2m > [22mshould have contentSecurityPolicy
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2090873Z  [31mÃ—[39m packages/middleware/src/security.test.ts[2m > [22mhelmetConfig[2m > [22mshould have crossOriginEmbedderPolicy
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.2092635Z [31m   â†’ expected false to be true // Object.is equality[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.3029920Z  [32mâœ“[39m packages/middleware/src/exception-filter.test.ts[2m > [22mGlobalExceptionFilter[2m > [22mshould be defined
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.3036538Z  [31mÃ—[39m packages/middleware/src/exception-filter.test.ts[2m > [22mGlobalExceptionFilter[2m > [22mshould handle generic errors
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.3040088Z [31m   â†’ Cannot read properties of undefined (reading 'user-agent')[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.3050476Z  [32mâœ“[39m packages/middleware/src/exception-filter.test.ts[2m > [22mOperationalError[2m > [22mshould create with message and status
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.3052724Z  [32mâœ“[39m packages/middleware/src/exception-filter.test.ts[2m > [22mOperationalError[2m > [22mshould be instance of HttpException
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.3054372Z  [32mâœ“[39m packages/middleware/src/exception-filter.test.ts[2m > [22mValidationError[2m > [22mshould have 400 status
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.3055952Z  [32mâœ“[39m packages/middleware/src/exception-filter.test.ts[2m > [22mAuthenticationError[2m > [22mshould have 401 status
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.3057977Z  [32mâœ“[39m packages/middleware/src/exception-filter.test.ts[2m > [22mAuthorizationError[2m > [22mshould have 403 status
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.3061028Z  [32mâœ“[39m packages/middleware/src/exception-filter.test.ts[2m > [22mTenantIsolationError[2m > [22mshould have 403 status
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.9521427Z  [32mâœ“[39m packages/auth/src/strategies/jwt.strategy.test.ts[2m > [22mJwtStrategy[2m > [22mconstructor[2m > [22mshould create strategy with config service
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.9524044Z  [32mâœ“[39m packages/auth/src/strategies/jwt.strategy.test.ts[2m > [22mJwtStrategy[2m > [22mconstructor[2m > [22mshould get JWT_SECRET from config
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.9526173Z  [32mâœ“[39m packages/auth/src/strategies/jwt.strategy.test.ts[2m > [22mJwtStrategy[2m > [22mvalidate[2m > [22mshould validate and return user from payload
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.9528448Z  [32mâœ“[39m packages/auth/src/strategies/jwt.strategy.test.ts[2m > [22mJwtStrategy[2m > [22mvalidate[2m > [22mshould throw UnauthorizedException for payload without sub
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.9530895Z  [31mÃ—[39m packages/auth/src/strategies/jwt.strategy.test.ts[2m > [22mJwtStrategy[2m > [22mvalidate[2m > [22mshould throw UnauthorizedException for null payload
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.9532446Z [31m   â†’ expected error to be instance of UnauthorizedException[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.9534197Z  [32mâœ“[39m packages/auth/src/strategies/jwt.strategy.test.ts[2m > [22mJwtStrategy[2m > [22mvalidate[2m > [22mshould throw UnauthorizedException for undefined sub
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:10.9536377Z  [32mâœ“[39m packages/auth/src/strategies/jwt.strategy.test.ts[2m > [22mJwtStrategy[2m > [22mvalidate[2m > [22mshould handle payload without tenantId
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.0083161Z  [32mâœ“[39m packages/middleware/src/connection-context.test.ts[2m > [22mConnectionContext[2m > [22mshould set and get tenant context
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.0085026Z  [32mâœ“[39m packages/middleware/src/connection-context.test.ts[2m > [22mConnectionContext[2m > [22mshould return null when no context exists
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.0086920Z  [32mâœ“[39m packages/middleware/src/connection-context.test.ts[2m > [22mConnectionContext[2m > [22mshould throw when requiring context without one
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.0088790Z  [32mâœ“[39m packages/middleware/src/connection-context.test.ts[2m > [22mConnectionContext[2m > [22mshould handle nested contexts correctly
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.2385651Z  [32mâœ“[39m packages/auth/src/encryption.test.ts[2m > [22mEncryption Service[2m > [22mencrypt/decrypt[2m > [22mshould encrypt and decrypt data correctly
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.2393941Z  [32mâœ“[39m packages/auth/src/encryption.test.ts[2m > [22mEncryption Service[2m > [22mencrypt/decrypt[2m > [22mshould produce different encrypted output for same plaintext
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.2396883Z  [32mâœ“[39m packages/auth/src/encryption.test.ts[2m > [22mEncryption Service[2m > [22mAPI Key management[2m > [22mshould generate unique API keys
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.2399529Z  [32mâœ“[39m packages/auth/src/encryption.test.ts[2m > [22mEncryption Service[2m > [22mAPI Key management[2m > [22mshould hash API keys consistently
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.2401596Z  [32mâœ“[39m packages/auth/src/encryption.test.ts[2m > [22mEncryption Service[2m > [22mmaskSensitive[2m > [22mshould mask sensitive data correctly
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.2403594Z  [32mâœ“[39m packages/auth/src/encryption.test.ts[2m > [22mEncryption Service[2m > [22mmaskSensitive[2m > [22mshould mask all for short strings
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.3442521Z  [32mâœ“[39m packages/middleware/src/tenant-context.test.ts[2m > [22mTenant Context (Legacy)[2m > [22mshould export tenantStorage
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.3449678Z  [32mâœ“[39m packages/middleware/src/tenant-context.test.ts[2m > [22mTenant Context (Legacy)[2m > [22mshould throw when getting context outside of scope
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.3481343Z  [32mâœ“[39m packages/middleware/src/tenant-context.test.ts[2m > [22mTenant Context (Legacy)[2m > [22mshould return false when checking context outside of scope
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.3518420Z  [32mâœ“[39m packages/middleware/src/tenant-context.test.ts[2m > [22mTenant Context (Legacy)[2m > [22mshould work within a context
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.3520734Z  [32mâœ“[39m packages/middleware/src/tenant-context.test.ts[2m > [22mTenant Context (Legacy)[2m > [22mshould handle multiple contexts
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.4657547Z  [32mâœ“[39m packages/db/src/schema.test.ts[2m > [22mSchema[2m > [22mTenants table[2m > [22mshould have correct columns
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.4659810Z  [32mâœ“[39m packages/db/src/schema.test.ts[2m > [22mSchema[2m > [22mUsers table[2m > [22mshould have correct columns
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.4674136Z  [32mâœ“[39m packages/db/src/schema.test.ts[2m > [22mSchema[2m > [22mStores table[2m > [22mshould have correct columns
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.4675721Z  [32mâœ“[39m packages/db/src/schema.test.ts[2m > [22mSchema[2m > [22mSettings table[2m > [22mshould have correct columns
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.4677170Z  [32mâœ“[39m packages/db/src/schema.test.ts[2m > [22mSchema[2m > [22mAuditLogs table[2m > [22mshould have correct columns
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.4678754Z  [32mâœ“[39m packages/db/src/schema.test.ts[2m > [22mSchema[2m > [22mS2 Compliance Helpers[2m > [22mshould generate correct tenant table name
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.4680586Z  [32mâœ“[39m packages/db/src/schema.test.ts[2m > [22mSchema[2m > [22mS2 Compliance Helpers[2m > [22mshould generate correct search path SQL
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.4682255Z  [32mâœ“[39m packages/db/src/schema.test.ts[2m > [22mSchema[2m > [22mS2 Compliance Helpers[2m > [22mshould handle different table names
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.4683957Z  [32mâœ“[39m packages/db/src/schema.test.ts[2m > [22mSchema[2m > [22mS2 Compliance Helpers[2m > [22mshould generate search path for different tenant IDs
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.9066415Z  [32mâœ“[39m packages/ui/src/index.test.ts[2m > [22mUI Package[2m > [22mcn helper[2m > [22mshould combine class names
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.9069334Z  [32mâœ“[39m packages/ui/src/index.test.ts[2m > [22mUI Package[2m > [22mcn helper[2m > [22mshould filter falsy values
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.9071077Z  [32mâœ“[39m packages/ui/src/index.test.ts[2m > [22mUI Package[2m > [22mbuttonStyles[2m > [22mshould have base styles
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.9075029Z  [32mâœ“[39m packages/ui/src/index.test.ts[2m > [22mUI Package[2m > [22mbuttonStyles[2m > [22mshould have variant styles
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.9079454Z  [32mâœ“[39m packages/ui/src/index.test.ts[2m > [22mUI Package[2m > [22mbuttonStyles[2m > [22mshould have size styles
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.9083334Z  [32mâœ“[39m packages/ui/src/index.test.ts[2m > [22mUI Package[2m > [22minputStyles[2m > [22mshould have base styles
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.9092505Z  [32mâœ“[39m packages/ui/src/index.test.ts[2m > [22mUI Package[2m > [22minputStyles[2m > [22mshould have error styles
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.9094046Z  [32mâœ“[39m packages/ui/src/index.test.ts[2m > [22mUI Package[2m > [22mtheme[2m > [22mshould have primary colors
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:11.9095554Z  [32mâœ“[39m packages/ui/src/index.test.ts[2m > [22mUI Package[2m > [22mtheme[2m > [22mshould have gray colors
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.1288906Z  [32mâœ“[39m packages/middleware/src/rate-limit.test.ts[2m > [22mRATE_LIMIT_KEY[2m > [22mshould have correct value
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.1297575Z  [32mâœ“[39m packages/middleware/src/rate-limit.test.ts[2m > [22mRateLimit decorator[2m > [22mshould be defined
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.1300324Z  [32mâœ“[39m packages/middleware/src/rate-limit.test.ts[2m > [22mRateLimit decorator[2m > [22mshould create decorator
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.1302402Z  [31mÃ—[39m packages/middleware/src/rate-limit.test.ts[2m > [22mThrottleConfig[2m > [22mshould have default config
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.1303890Z [31m   â†’ expected undefined not to be undefined[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.1305349Z  [31mÃ—[39m packages/middleware/src/rate-limit.test.ts[2m > [22mThrottleConfig[2m > [22mshould have strict config
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.1306788Z [31m   â†’ expected undefined not to be undefined[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.1308249Z  [31mÃ—[39m packages/middleware/src/rate-limit.test.ts[2m > [22mThrottleConfig[2m > [22mshould have lenient config
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.1309589Z [31m   â†’ expected undefined not to be undefined[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.1310696Z  [32mâœ“[39m packages/middleware/src/rate-limit.test.ts[2m > [22mRateLimitGuard[2m > [22mshould be defined
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.1312279Z  [32mâœ“[39m packages/middleware/src/rate-limit.test.ts[2m > [22mRateLimitConfig type[2m > [22mshould accept valid config
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.2157432Z  [32mâœ“[39m packages/middleware/src/s2.test.ts[2m > [22mS2 Middleware: Tenant Resolution[2m > [22mshould extract subdomain from host header
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:12.2185904Z  [32mâœ“[39m packages/middleware/src/s2.test.ts[2m > [22mS2 Middleware: Tenant Resolution[2m > [22mshould resolve tenant and attach to context
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:13.0943554Z  [32mâœ“[39m packages/events/src/index.test.ts[2m > [22mEvents Module Exports[2m > [22mshould export InMemoryEventBus
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:13.0948556Z  [32mâœ“[39m packages/events/src/index.test.ts[2m > [22mEvents Module Exports[2m > [22mshould export createEventId
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:13.0952273Z  [32mâœ“[39m packages/events/src/index.test.ts[2m > [22mEvents Module Exports[2m > [22mshould export createCorrelationId
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:13.0955648Z  [32mâœ“[39m packages/events/src/index.test.ts[2m > [22mEvents Module Exports[2m > [22mshould export createTimestamp
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:13.0962567Z  [32mâœ“[39m packages/events/src/index.test.ts[2m > [22mEvents Module Exports[2m > [22mshould export validateEvent
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:13.0964096Z  [32mâœ“[39m packages/events/src/index.test.ts[2m > [22mEvents Module Exports[2m > [22mshould export TenantProvisioningStartedSchema
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:13.3487329Z  [32mâœ“[39m packages/auth/src/decorators/current-user.decorator.test.ts[2m > [22mCurrentUser Decorator[2m > [22mshould create decorator function
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:13.3490024Z  [32mâœ“[39m packages/auth/src/decorators/current-user.decorator.test.ts[2m > [22mCurrentUser Decorator[2m > [22mshould have proper metadata key
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:13.7253353Z  [32mâœ“[39m packages/auth/src/decorators/public.decorator.test.ts[2m > [22mPublic Decorator[2m > [22mshould have correct metadata key
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:13.7257310Z  [32mâœ“[39m packages/auth/src/decorators/public.decorator.test.ts[2m > [22mPublic Decorator[2m > [22mshould create decorator function
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:13.7263550Z  [32mâœ“[39m packages/auth/src/decorators/public.decorator.test.ts[2m > [22mPublic Decorator[2m > [22mshould be defined
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2471037Z  [32mâœ“[39m apps/api/src/main.spec.ts[2m > [22mMain[2m > [22mshould be defined
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2609839Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2629920Z [31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Failed Suites 18 [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2634120Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2635239Z [31m[1m[7m FAIL [27m[22m[39m apps/api/src/app.module.spec.ts [2m[ apps/api/src/app.module.spec.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2660700Z [31m[1mError[22m: Failed to resolve entry for package "@apex/middleware". The package may have incorrect main/module/exports specified in its package.json.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2662873Z [90m [2mâ¯[22m packageEntryFailure node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46638:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2664683Z [90m [2mâ¯[22m resolvePackageEntry node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46635:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2666524Z [90m [2mâ¯[22m tryNodeResolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46451:16[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2668167Z [90m [2mâ¯[22m ResolveIdContext.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46201:19[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2669789Z [90m [2mâ¯[22m PluginContainer.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49018:17[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2671257Z [90m [2mâ¯[22m TransformPluginContext.resolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49178:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2672612Z [90m [2mâ¯[22m normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64300:26[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2673994Z [90m [2mâ¯[22m async file:/home/runner/work/KIMI/KIMI/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64439:39[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2674765Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2675053Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2675392Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2676153Z [31m[1m[7m FAIL [27m[22m[39m packages/audit/src/audit.service.test.ts [2m[ packages/audit/src/audit.service.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2677973Z [31m[1m[7m FAIL [27m[22m[39m packages/middleware/src/index.test.ts [2m[ packages/middleware/src/index.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2679955Z [31m[1m[7m FAIL [27m[22m[39m packages/middleware/src/tenant-isolation.middleware.test.ts [2m[ packages/middleware/src/tenant-isolation.middleware.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2681773Z [31m[1m[7m FAIL [27m[22m[39m packages/provisioning/src/runner.test.ts [2m[ packages/provisioning/src/runner.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2683439Z [31m[1m[7m FAIL [27m[22m[39m packages/provisioning/src/schema-manager.test.ts [2m[ packages/provisioning/src/schema-manager.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2685027Z [31m[1m[7m FAIL [27m[22m[39m packages/provisioning/src/seeder.test.ts [2m[ packages/provisioning/src/seeder.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2686737Z [31m[1mError[22m: Failed to resolve entry for package "@apex/db". The package may have incorrect main/module/exports specified in its package.json.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2688358Z [90m [2mâ¯[22m packageEntryFailure node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46638:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2689907Z [90m [2mâ¯[22m resolvePackageEntry node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46635:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2691197Z [90m [2mâ¯[22m tryNodeResolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46451:16[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2692540Z [90m [2mâ¯[22m ResolveIdContext.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46201:19[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2693899Z [90m [2mâ¯[22m PluginContainer.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49018:17[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2695355Z [90m [2mâ¯[22m TransformPluginContext.resolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49178:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2696930Z [90m [2mâ¯[22m normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64300:26[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2698314Z [90m [2mâ¯[22m async file:/home/runner/work/KIMI/KIMI/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64439:39[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2699248Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2699529Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2699846Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2700480Z [31m[1m[7m FAIL [27m[22m[39m packages/audit/src/index.test.ts [2m[ packages/audit/src/index.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2701855Z [31m[1m[7m FAIL [27m[22m[39m packages/provisioning/src/index.test.ts [2m[ packages/provisioning/src/index.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2703311Z [31m[1m[7m FAIL [27m[22m[39m apps/api/src/provisioning/index.spec.ts [2m[ apps/api/src/provisioning/index.spec.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2704971Z [31m[1mError[22m: Failed to resolve entry for package "@apex/db". The package may have incorrect main/module/exports specified in its package.json.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2706509Z [90m [2mâ¯[22m packageEntryFailure node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46638:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2707792Z [90m [2mâ¯[22m resolvePackageEntry node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46635:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2709006Z [90m [2mâ¯[22m tryNodeResolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46451:16[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2710486Z [90m [2mâ¯[22m ResolveIdContext.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46201:19[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2711883Z [90m [2mâ¯[22m PluginContainer.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49018:17[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2713315Z [90m [2mâ¯[22m TransformPluginContext.resolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49178:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2714664Z [90m [2mâ¯[22m normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64300:26[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2716045Z [90m [2mâ¯[22m async file:/home/runner/work/KIMI/KIMI/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64439:39[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2716997Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2717277Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2717602Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2718263Z [31m[1m[7m FAIL [27m[22m[39m packages/config/src/index.test.ts [2m[ packages/config/src/index.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2719483Z [31m[1mError[22m: process.exit unexpectedly called with "1"[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2720432Z [36m [2mâ¯[22m enforceS1Compliance packages/config/src/index.ts:[2m117:13[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2812163Z     [90m115| [39m    console[33m.[39m[34merror[39m(error [35minstanceof[39m [33mError[39m [33m?[39m error[33m.[39mmessage [33m:[39m [32m'Unknown er[39mâ€¦
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2814353Z     [90m116| [39m    console[33m.[39m[34merror[39m([32m'Application startup aborted. Check your .env file.'[39mâ€¦
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2815520Z     [90m117| [39m    process[33m.[39m[34mexit[39m([34m1[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2816233Z     [90m   | [39m            [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2816739Z     [90m118| [39m  }
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2817133Z     [90m119| [39m}
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2819294Z [90m [2mâ¯[22m packages/config/src/index.ts:[2m128:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2821529Z [90m [2mâ¯[22m packages/config/src/index.test.ts:[2m2:31[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2822016Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2822328Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2822674Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2823332Z [31m[1m[7m FAIL [27m[22m[39m packages/db/src/index.test.ts [2m[ packages/db/src/index.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2825092Z [31m[1mError[22m: Failed to resolve entry for package "@apex/config". The package may have incorrect main/module/exports specified in its package.json.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2826866Z [90m [2mâ¯[22m packageEntryFailure node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46638:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2828621Z [90m [2mâ¯[22m resolvePackageEntry node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46635:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2830269Z [90m [2mâ¯[22m tryNodeResolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46451:16[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2831744Z [90m [2mâ¯[22m ResolveIdContext.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46201:19[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2833264Z [90m [2mâ¯[22m PluginContainer.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49018:17[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2834855Z [90m [2mâ¯[22m TransformPluginContext.resolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49178:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2836324Z [90m [2mâ¯[22m normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64300:26[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2837851Z [90m [2mâ¯[22m async file:/home/runner/work/KIMI/KIMI/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64439:39[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2838730Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2839040Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2839570Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2840440Z [31m[1m[7m FAIL [27m[22m[39m packages/provisioning/src/blueprint.test.ts [2m[ packages/provisioning/src/blueprint.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2842485Z [31m[1m[7m FAIL [27m[22m[39m packages/provisioning/src/tenant-overview.test.ts [2m[ packages/provisioning/src/tenant-overview.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2844526Z [31m[1mError[22m: Failed to resolve entry for package "@apex/db". The package may have incorrect main/module/exports specified in its package.json.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2846256Z [90m [2mâ¯[22m packageEntryFailure node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46638:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2847676Z [90m [2mâ¯[22m resolvePackageEntry node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46635:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2849348Z [90m [2mâ¯[22m tryNodeResolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46451:16[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2851153Z [90m [2mâ¯[22m ResolveIdContext.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46201:19[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2852719Z [90m [2mâ¯[22m PluginContainer.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49018:17[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2853498Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2853804Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2854169Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2855162Z [31m[1m[7m FAIL [27m[22m[39m packages/provisioning/src/storage-manager.test.ts [2m[ packages/provisioning/src/storage-manager.test.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2857140Z [31m[1mError[22m: Failed to resolve entry for package "@apex/config". The package may have incorrect main/module/exports specified in its package.json.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2858873Z [90m [2mâ¯[22m packageEntryFailure node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46638:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2860505Z [90m [2mâ¯[22m resolvePackageEntry node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46635:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2861874Z [90m [2mâ¯[22m tryNodeResolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46451:16[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2863293Z [90m [2mâ¯[22m ResolveIdContext.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46201:19[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2864811Z [90m [2mâ¯[22m PluginContainer.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49018:17[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2865585Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2865876Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[7/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2866217Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2867303Z [31m[1m[7m FAIL [27m[22m[39m apps/api/src/provisioning/provisioning.controller.spec.ts [2m[ apps/api/src/provisioning/provisioning.controller.spec.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2869545Z [31m[1m[7m FAIL [27m[22m[39m apps/api/src/provisioning/provisioning.module.spec.ts [2m[ apps/api/src/provisioning/provisioning.module.spec.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2871830Z [31m[1mError[22m: Failed to resolve entry for package "@apex/audit". The package may have incorrect main/module/exports specified in its package.json.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2873518Z [90m [2mâ¯[22m packageEntryFailure node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46638:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2874941Z [90m [2mâ¯[22m resolvePackageEntry node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46635:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2876285Z [90m [2mâ¯[22m tryNodeResolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46451:16[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2877699Z [90m [2mâ¯[22m ResolveIdContext.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46201:19[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2879440Z [90m [2mâ¯[22m PluginContainer.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49018:17[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2881023Z [90m [2mâ¯[22m TransformPluginContext.resolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49178:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2882455Z [90m [2mâ¯[22m normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64300:26[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2883890Z [90m [2mâ¯[22m async file:/home/runner/work/KIMI/KIMI/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64439:39[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2884711Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2885039Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[8/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2885394Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2886431Z [31m[1m[7m FAIL [27m[22m[39m apps/api/src/provisioning/provisioning.service.spec.ts [2m[ apps/api/src/provisioning/provisioning.service.spec.ts ][22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2888488Z [31m[1mError[22m: Failed to resolve entry for package "@apex/audit". The package may have incorrect main/module/exports specified in its package.json.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2890415Z [90m [2mâ¯[22m packageEntryFailure node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46638:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2891912Z [90m [2mâ¯[22m resolvePackageEntry node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46635:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2893615Z [90m [2mâ¯[22m tryNodeResolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46451:16[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2895115Z [90m [2mâ¯[22m ResolveIdContext.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46201:19[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2896711Z [90m [2mâ¯[22m PluginContainer.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49018:17[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2904774Z [90m [2mâ¯[22m TransformPluginContext.resolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49178:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2906342Z [90m [2mâ¯[22m normalizeUrl node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64300:26[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2907899Z [90m [2mâ¯[22m async file:/home/runner/work/KIMI/KIMI/node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m64439:39[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2908755Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2909297Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[9/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2909666Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2910031Z [31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Failed Tests 12 [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2910435Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2911465Z [31m[1m[7m FAIL [27m[22m[39m packages/middleware/src/exception-filter.test.ts[2m > [22mGlobalExceptionFilter[2m > [22mshould handle generic errors
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2913085Z [31m[1mTypeError[22m: Cannot read properties of undefined (reading 'user-agent')[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2914628Z [36m [2mâ¯[22m GlobalExceptionFilter.logError packages/middleware/src/exception-filter.ts:[2m162:26[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2915958Z     [90m160| [39m      method[33m:[39m request[33m.[39mmethod[33m,[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2916831Z     [90m161| [39m      ip[33m:[39m request[33m.[39mip[33m,[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2917888Z     [90m162| [39m      userAgent[33m:[39m request[33m.[39mheaders[[32m'user-agent'[39m][33m,[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2919315Z     [90m   | [39m                         [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2922371Z     [90m163| [39m    }[33m,[39m [32m'Exception caught'[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2923042Z     [90m164| [39m  }
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2924040Z [90m [2mâ¯[22m GlobalExceptionFilter.catch packages/middleware/src/exception-filter.ts:[2m44:10[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2926064Z [90m [2mâ¯[22m packages/middleware/src/exception-filter.test.ts:[2m43:12[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2926694Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2927093Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[10/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2927589Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2928583Z [31m[1m[7m FAIL [27m[22m[39m packages/middleware/src/rate-limit.test.ts[2m > [22mThrottleConfig[2m > [22mshould have default config
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2958632Z [31m[1mAssertionError[22m: expected undefined not to be undefined[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2959874Z [36m [2mâ¯[22m packages/middleware/src/rate-limit.test.ts:[2m34:36[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2960915Z     [90m 32| [39m[34mdescribe[39m([32m'ThrottleConfig'[39m[33m,[39m () [33m=>[39m {
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2961984Z     [90m 33| [39m  [34mit[39m([32m'should have default config'[39m[33m,[39m () [33m=>[39m {
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2963475Z     [90m 34| [39m    [34mexpect[39m([33mThrottleConfig[39m[33m.[39m[33mDEFAULT[39m)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2964648Z     [90m   | [39m                                   [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2965865Z     [90m 35| [39m    [34mexpect[39m([33mThrottleConfig[39m[33m.[39m[33mDEFAULT[39m[33m.[39mttl)[33m.[39m[34mtoBe[39m([34m60[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2967597Z     [90m 36| [39m    [34mexpect[39m([33mThrottleConfig[39m[33m.[39m[33mDEFAULT[39m[33m.[39mlimit)[33m.[39m[34mtoBe[39m([34m100[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2968442Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2968723Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[11/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2969232Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2970414Z [31m[1m[7m FAIL [27m[22m[39m packages/middleware/src/rate-limit.test.ts[2m > [22mThrottleConfig[2m > [22mshould have strict config
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2971742Z [31m[1mAssertionError[22m: expected undefined not to be undefined[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2972831Z [36m [2mâ¯[22m packages/middleware/src/rate-limit.test.ts:[2m40:35[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2973528Z     [90m 38| [39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2974207Z     [90m 39| [39m  [34mit[39m([32m'should have strict config'[39m[33m,[39m () [33m=>[39m {
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2975506Z     [90m 40| [39m    [34mexpect[39m([33mThrottleConfig[39m[33m.[39m[33mSTRICT[39m)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2976540Z     [90m   | [39m                                  [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.2977717Z     [90m 41| [39m    [34mexpect[39m([33mThrottleConfig[39m[33m.[39m[33mSTRICT[39m[33m.[39mttl)[33m.[39m[34mtoBe[39m([34m60[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3045550Z     [90m 42| [39m    [34mexpect[39m([33mThrottleConfig[39m[33m.[39m[33mSTRICT[39m[33m.[39mlimit)[33m.[39m[34mtoBe[39m([34m20[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3046524Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3046889Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[12/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3047248Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3048144Z [31m[1m[7m FAIL [27m[22m[39m packages/middleware/src/rate-limit.test.ts[2m > [22mThrottleConfig[2m > [22mshould have lenient config
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3049707Z [31m[1mAssertionError[22m: expected undefined not to be undefined[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3050743Z [36m [2mâ¯[22m packages/middleware/src/rate-limit.test.ts:[2m46:36[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3051499Z     [90m 44| [39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3052240Z     [90m 45| [39m  [34mit[39m([32m'should have lenient config'[39m[33m,[39m () [33m=>[39m {
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3053674Z     [90m 46| [39m    [34mexpect[39m([33mThrottleConfig[39m[33m.[39m[33mLENIENT[39m)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3054880Z     [90m   | [39m                                   [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3056191Z     [90m 47| [39m    [34mexpect[39m([33mThrottleConfig[39m[33m.[39m[33mLENIENT[39m[33m.[39mttl)[33m.[39m[34mtoBe[39m([34m60[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3058070Z     [90m 48| [39m    [34mexpect[39m([33mThrottleConfig[39m[33m.[39m[33mLENIENT[39m[33m.[39mlimit)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3058995Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3059507Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[13/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3059879Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3060860Z [31m[1m[7m FAIL [27m[22m[39m packages/middleware/src/security.test.ts[2m > [22msecurityHeaders[2m > [22mshould have Strict-Transport-Security
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3062845Z [31m[1mAssertionError[22m: expected 'max-age=31536000; includeSubDomains; â€¦' to be 'max-age=31536000; includeSubDomains' // Object.is equality[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3063855Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3064252Z - Expected
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3064582Z + Received
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3064768Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3064927Z - max-age=31536000; includeSubDomains
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3065453Z + max-age=31536000; includeSubDomains; preload
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3065817Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3066342Z [36m [2mâ¯[22m packages/middleware/src/security.test.ts:[2m39:58[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3067126Z     [90m 37| [39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3080458Z     [90m 38| [39m  [34mit[39m([32m'should have Strict-Transport-Security'[39m[33m,[39m () [33m=>[39m {
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3082220Z     [90m 39| [39m    [34mexpect[39m(securityHeaders[[32m'Strict-Transport-Security'[39m])[33m.[39m[34mtoBe[39m([32m'max-age[39mâ€¦
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3083588Z     [90m   | [39m                                                         [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3084367Z     [90m 40| [39m  })[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3084981Z     [90m 41| [39m})[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3085401Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3085836Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[14/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3086326Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3087346Z [31m[1m[7m FAIL [27m[22m[39m packages/middleware/src/security.test.ts[2m > [22mdefaultCorsConfig[2m > [22mshould have allowed headers
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3088972Z [31m[1mAssertionError[22m: expected [ 'Content-Type', â€¦(2) ] to include 'X-Tenant-ID'[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3090324Z [36m [2mâ¯[22m packages/middleware/src/security.test.ts:[2m65:46[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3091877Z     [90m 63| [39m    [34mexpect[39m(defaultCorsConfig[33m.[39mallowedHeaders)[33m.[39m[34mtoContain[39m([32m'Content-Type'[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3093685Z     [90m 64| [39m    [34mexpect[39m(defaultCorsConfig[33m.[39mallowedHeaders)[33m.[39m[34mtoContain[39m([32m'Authorization'[39mâ€¦
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3095591Z     [90m 65| [39m    [34mexpect[39m(defaultCorsConfig[33m.[39mallowedHeaders)[33m.[39m[34mtoContain[39m([32m'X-Tenant-ID'[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3097184Z     [90m   | [39m                                             [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3097915Z     [90m 66| [39m  })[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3098454Z     [90m 67| [39m})[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3098791Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3099419Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[15/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3099876Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3100930Z [31m[1m[7m FAIL [27m[22m[39m packages/middleware/src/security.test.ts[2m > [22mgetTenantCorsConfig[2m > [22mshould return config with tenant origin
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3102861Z [31m[1mAssertionError[22m: expected [ 'https://coffee.apex.com', â€¦(1) ] to be 'coffee.apex.com' // Object.is equality[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3103795Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3104007Z - Expected: 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3104407Z "coffee.apex.com"
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3104774Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3104980Z + Received: 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3105344Z Array [
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3105750Z   "https://coffee.apex.com",
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3106262Z   "https://admin.coffee.apex.com",
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3106766Z ]
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3106995Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3107537Z [36m [2mâ¯[22m packages/middleware/src/security.test.ts:[2m72:27[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3108723Z     [90m 70| [39m  [34mit[39m([32m'should return config with tenant origin'[39m[33m,[39m () [33m=>[39m {
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3110500Z     [90m 71| [39m    [35mconst[39m config [33m=[39m [34mgetTenantCorsConfig[39m([32m'coffee.apex.com'[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3112629Z     [90m 72| [39m    [34mexpect[39m(config[33m.[39morigin)[33m.[39m[34mtoBe[39m([32m'coffee.apex.com'[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3114777Z     [90m   | [39m                          [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3115284Z     [90m 73| [39m  })[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3115705Z     [90m 74| [39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3115896Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3116168Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[16/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3116501Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3117401Z [31m[1m[7m FAIL [27m[22m[39m packages/middleware/src/security.test.ts[2m > [22mhelmetConfig[2m > [22mshould have crossOriginEmbedderPolicy
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3118957Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3120758Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3120876Z - Expected
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3121149Z + Received
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3121303Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3121412Z - true
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3121663Z + false
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3121816Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3122245Z [36m [2mâ¯[22m packages/middleware/src/security.test.ts:[2m100:52[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3122904Z     [90m 98| [39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3123695Z     [90m 99| [39m  [34mit[39m([32m'should have crossOriginEmbedderPolicy'[39m[33m,[39m () [33m=>[39m {
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3134856Z     [90m100| [39m    [34mexpect[39m(helmetConfig[33m.[39mcrossOriginEmbedderPolicy)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3136158Z     [90m   | [39m                                                   [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3136780Z     [90m101| [39m  })[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3137237Z     [90m102| [39m})[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3137499Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3137787Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[17/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3138121Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3139362Z [31m[1m[7m FAIL [27m[22m[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mgetPlanLimits[2m > [22mshould throw for invalid plan
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3140891Z [31m[1mAssertionError[22m: expected [Function] to throw an error[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3141873Z [36m [2mâ¯[22m packages/provisioning/src/quota-service.test.ts:[2m56:55[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3142618Z     [90m 54| [39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3143355Z     [90m 55| [39m    [34mit[39m([32m'should throw for invalid plan'[39m[33m,[39m () [33m=>[39m {
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3145027Z     [90m 56| [39m      [34mexpect[39m(() [33m=>[39m [34mgetPlanLimits[39m([32m'invalid'[39m [35mas[39m never))[33m.[39m[34mtoThrow[39m()[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3146215Z     [90m   | [39m                                                      [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3161912Z     [90m 57| [39m    })[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3162392Z     [90m 58| [39m  })[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3162652Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3162931Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[18/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3163274Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3164448Z [31m[1m[7m FAIL [27m[22m[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22misFeatureAllowed[2m > [22mshould allow custom domains for pro plans
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3166039Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3166575Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3166698Z - Expected
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3166972Z + Received
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3167154Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3167261Z - true
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3167509Z + false
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3167659Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3168151Z [36m [2mâ¯[22m packages/provisioning/src/quota-service.test.ts:[2m62:55[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3169371Z     [90m 60| [39m  [34mdescribe[39m([32m'isFeatureAllowed'[39m[33m,[39m () [33m=>[39m {
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3170606Z     [90m 61| [39m    [34mit[39m([32m'should allow custom domains for pro plans'[39m[33m,[39m () [33m=>[39m {
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3180802Z     [90m 62| [39m      [34mexpect[39m([34misFeatureAllowed[39m([32m'pro'[39m[33m,[39m [32m'customDomain'[39m))[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3182176Z     [90m   | [39m                                                      [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3183631Z     [90m 63| [39m      [34mexpect[39m([34misFeatureAllowed[39m([32m'free'[39m[33m,[39m [32m'customDomain'[39m))[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3184853Z     [90m 64| [39m    })[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3185419Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3185754Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[19/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3186107Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3187409Z [31m[1m[7m FAIL [27m[22m[39m packages/provisioning/src/quota-service.test.ts[2m > [22mQuotaService[2m > [22mvalidateSubdomainAvailability[2m > [22mshould reject reserved subdomains
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3189347Z [31m[1mAssertionError[22m: expected 'Reserved word' to contain 'reserved'[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3189916Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3190052Z - Expected
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3190357Z + Received
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3190520Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3190652Z - reserved
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3190941Z + Reserved word
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3191149Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3191702Z [36m [2mâ¯[22m packages/provisioning/src/quota-service.test.ts:[2m81:29[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3193198Z     [90m 79| [39m      [35mconst[39m result [33m=[39m [35mawait[39m [34mvalidateSubdomainAvailability[39m([32m'admin'[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3194801Z     [90m 80| [39m      [34mexpect[39m(result[33m.[39mavailable)[33m.[39m[34mtoBe[39m([35mfalse[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3196222Z     [90m 81| [39m      [34mexpect[39m(result[33m.[39mreason)[33m.[39m[34mtoContain[39m([32m'reserved'[39m)[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3197343Z     [90m   | [39m                            [31m^[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3197904Z     [90m 82| [39m    })[33m;[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3198354Z     [90m 83| [39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3198559Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3198857Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[20/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3199389Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3200604Z [31m[1m[7m FAIL [27m[22m[39m packages/auth/src/strategies/jwt.strategy.test.ts[2m > [22mJwtStrategy[2m > [22mvalidate[2m > [22mshould throw UnauthorizedException for null payload
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3202323Z [31m[1mAssertionError[22m: expected error to be instance of UnauthorizedException[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3203161Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3203300Z - Expected: 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3203626Z [Function UnauthorizedException]
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3203919Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3204033Z + Received: 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3204466Z [TypeError: Cannot read properties of null (reading 'sub')]
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3204899Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3205202Z [31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[21/30]âŽ¯[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3205543Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3205550Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3205866Z [31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Unhandled Error [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3207254Z [31m[1mError[22m: Failed to resolve entry for package "@apex/config". The package may have incorrect main/module/exports specified in its package.json.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3208968Z [90m [2mâ¯[22m packageEntryFailure node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46638:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3210574Z [90m [2mâ¯[22m resolvePackageEntry node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46635:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3211964Z [90m [2mâ¯[22m tryNodeResolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46451:16[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3213387Z [90m [2mâ¯[22m ResolveIdContext.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46201:19[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3214887Z [90m [2mâ¯[22m PluginContainer.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49018:17[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3216363Z [90m [2mâ¯[22m MessagePort.<anonymous> node_modules/vitest/dist/vendor/index.8bPxjt7g.js:[2m65:20[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3217096Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3217107Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3217442Z [31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Unhandled Error [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3218867Z [31m[1mError[22m: Failed to resolve entry for package "@apex/db". The package may have incorrect main/module/exports specified in its package.json.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3220747Z [90m [2mâ¯[22m packageEntryFailure node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46638:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3222195Z [90m [2mâ¯[22m resolvePackageEntry node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46635:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3223798Z [90m [2mâ¯[22m tryNodeResolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46451:16[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3225229Z [90m [2mâ¯[22m ResolveIdContext.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46201:19[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3226750Z [90m [2mâ¯[22m PluginContainer.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49018:17[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3227981Z [90m [2mâ¯[22m MessagePort.<anonymous> node_modules/vitest/dist/vendor/index.8bPxjt7g.js:[2m65:20[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3228404Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3228410Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3228677Z [31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Unhandled Error [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3229964Z [31m[1mError[22m: Failed to resolve entry for package "@apex/db". The package may have incorrect main/module/exports specified in its package.json.[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3231540Z [90m [2mâ¯[22m packageEntryFailure node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46638:15[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3232666Z [90m [2mâ¯[22m resolvePackageEntry node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46635:3[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3233553Z [90m [2mâ¯[22m tryNodeResolve node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46451:16[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3234653Z [90m [2mâ¯[22m ResolveIdContext.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m46201:19[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3235495Z [90m [2mâ¯[22m PluginContainer.resolveId node_modules/vite/dist/node/chunks/dep-BK3b2jBa.js:[2m49018:17[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3236272Z [90m [2mâ¯[22m MessagePort.<anonymous> node_modules/vitest/dist/vendor/index.8bPxjt7g.js:[2m65:20[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3236650Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3236655Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3236840Z [31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Unhandled Errors [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3237338Z [31m[1m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3237567Z Vitest caught 3 unhandled errors during the test run.
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3238182Z This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3238733Z [31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3239484Z [2m Test Files [22m [1m[31m23 failed[39m[22m[2m | [22m[1m[32m14 passed[39m[22m[90m (37)[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3240547Z [2m      Tests [22m [1m[31m12 failed[39m[22m[2m | [22m[1m[32m139 passed[39m[22m[90m (151)[39m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.3241301Z [2m     Errors [22m [1m[31m3 errors[39m[22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.4456440Z [2m   Start at [22m 02:45:07
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.4457687Z [2m   Duration [22m 6.17s[2m (transform 573ms, setup 4ms, collect 3.18s, tests 526ms, environment 12ms, prepare 5.50s)[22m
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.4458408Z 
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.4742862Z error: "vitest" exited with code 1 (SIGHUP)
Unit Tests (No Docker)	Run Unit Tests	2026-02-08T02:45:14.4762860Z ##[error]Process completed with exit code 1.
Unit Tests (No Docker)	Upload Coverage Reports	ï»¿2026-02-08T02:45:14.4832519Z ##[group]Run actions/upload-artifact@v4
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.4832828Z with:
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.4833021Z   name: coverage-report-unit
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.4833271Z   path: coverage/**
Unit Tests (No Docker)	Upload Coverage Reports	packages/*/coverage/**
Unit Tests (No Docker)	Upload Coverage Reports	
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.4833535Z   retention-days: 7
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.4833766Z   if-no-files-found: warn
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.4833974Z   compression-level: 6
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.4834166Z   overwrite: false
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.4834359Z   include-hidden-files: false
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.4834576Z ##[endgroup]
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.7063308Z Multiple search paths detected. Calculating the least common ancestor of all paths
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.7065536Z The least common ancestor is /home/runner/work/KIMI/KIMI. This will be the root directory of the artifact
Unit Tests (No Docker)	Upload Coverage Reports	2026-02-08T02:45:14.7077689Z ##[warning]No files were found with the provided path: coverage/**
Unit Tests (No Docker)	Upload Coverage Reports	packages/*/coverage/**. No artifacts will be uploaded.
Unit Tests (No Docker)	Post Run actions/checkout@v4	ï»¿2026-02-08T02:45:14.7283288Z Post job cleanup.
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8227108Z [command]/usr/bin/git version
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8266505Z git version 2.52.0
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8316648Z Temporarily overriding HOME='/home/runner/work/_temp/93ed41b2-148b-4176-919d-33aba797a091' before making global git config changes
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8317619Z Adding repository directory to the temporary git global config as a safe directory
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8323451Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/KIMI/KIMI
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8362983Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8398221Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8646062Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8669476Z http.https://github.com/.extraheader
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8683859Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8715678Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8955593Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
Unit Tests (No Docker)	Post Run actions/checkout@v4	2026-02-08T02:45:14.8990608Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
Unit Tests (No Docker)	Complete job	ï»¿2026-02-08T02:45:14.9367368Z Cleaning up orphan processes
